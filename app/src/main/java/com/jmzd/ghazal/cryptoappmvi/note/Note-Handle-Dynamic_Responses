توی سرویس دریافت قیمت ارزها ما با این ریسپانس داینامیک رو به رو میشیم
https://api.coingecko.com/api/v3/simple/price?ids=01coin&vs_currencies=btc
{
    "01coin": {
        "btc": 9.535e-09
    }
}
چطور باید بازش کرد؟ چون تمام کلیدها داینامیک هستن

ما توی کاتلین یک سری کالکشن ها داریم
از اونها میتونیم اینجا به عنوان یک تریک استفاده کنیم
ولی اگه دقت کنید ما موقع صدا زدن سرویس این کلیدها رو در قالب کوعری به خود سرویس میدیم
ما از ساختار مپ استفاده میکنیم
ما از مپ های تو در تو استفاده میکنیم
Response<Map<String, Map<String, Double>>>

ما ساختار رو در اوردیم
کلیدها رو هم توی صفحه داریم
پس الان خیلی راحت به محتوای این ریسپانس دسترسی پیدا میکنیم
{
حتی اگه کلیدها رو نداشتیم
توی یکی از پروژه های قبلی یاد گرفتیم چطور ارور بادی داینامیک رو هندل کنیم
که توش مپ رو پیمایش میکردیم
}

توی ویو مدل مین به این شکل استخراج میکنیم قیمت رو
 if (response.isSuccessful) {
            val responseData = response.body()
            responseData?.let {
                val coinInfo = it[fromId]?.get(toCurrency)
                coinInfo?.let { info -> BaseState.Main.LoadPrice(info) }
                    ?.let { price -> _state.emit(price) }
            }
        }

 مپ رو میتونیم هم با ایندکس استخراج کنیم هم متد get
 مربوط به کالکشن هاست دیگه
 چیزهای دیگه ای مثل keys , entries هم داره
 مثلا یه علت اینکه ما دومی رو متد گت نوشتیم همین قابلیت نال چک هست